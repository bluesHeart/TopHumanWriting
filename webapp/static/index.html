<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <title>TopHumanWriting | 顶级范文对齐写作（离线）</title>
    <link rel="icon" href="/static/favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="/static/app.css" />
  </head>
  <body>
    <div class="app" id="app">
      <aside class="sidebar">
        <div class="brand">
          <div class="brand-mark" aria-hidden="true">T</div>
          <div class="brand-text">
            <div class="brand-title">TopHumanWriting</div>
            <div class="brand-subtitle">顶级范文对齐 · 白箱写作</div>
          </div>
        </div>

        <nav class="nav" aria-label="主导航">
          <button class="nav-item" data-route="library" type="button">
            <span class="nav-icon" aria-hidden="true">📚</span>
            <span class="nav-label">文献库</span>
          </button>
          <button class="nav-item" data-route="scan" type="button">
            <span class="nav-icon" aria-hidden="true">🧭</span>
            <span class="nav-label">对齐扫描</span>
          </button>
          <button class="nav-item" data-route="polish" type="button">
            <span class="nav-icon" aria-hidden="true">✨</span>
            <span class="nav-label">对齐润色</span>
          </button>
          <button class="nav-item" data-route="cite" type="button">
            <span class="nav-icon" aria-hidden="true">🔖</span>
            <span class="nav-label">引用借鉴</span>
          </button>
          <button class="nav-item" data-route="llm" type="button">
            <span class="nav-icon" aria-hidden="true">🧠</span>
            <span class="nav-label">LLM 设置</span>
          </button>
          <button class="nav-item" data-route="help" type="button">
            <span class="nav-icon" aria-hidden="true">❓</span>
            <span class="nav-label">使用帮助</span>
          </button>
        </nav>

        <div class="sidebar-footer">
          <div class="footer-actions">
            <button class="chip chip-llm" id="llmBadge" type="button" title="查看 LLM 状态">
              LLM: —
            </button>
            <button class="chip chip-danger" id="exitBtn" type="button" title="退出（关闭本地服务）">退出</button>
          </div>
          <div class="prefs">
            <button class="chip" id="themeToggle" type="button" title="切换明暗主题">主题</button>
            <select class="select" id="accentSelect" title="切换主题色">
              <option value="teal">Teal</option>
              <option value="ocean">Ocean</option>
              <option value="violet">Violet</option>
              <option value="slate">Slate</option>
              <option value="crimson">Crimson</option>
            </select>
          </div>
          <div class="sidebar-hint">离线：检索（FAISS）+ 句式库（Cite）+ 生成（Qwen 3B, llama.cpp）</div>
        </div>
      </aside>

      <main class="main">
        <header class="topbar">
          <div class="topbar-left">
            <div class="route-title" id="routeTitle">—</div>
            <div class="route-subtitle" id="routeSubtitle">—</div>
          </div>
          <div class="topbar-right">
            <div class="libbar">
              <span class="muted">当前库</span>
              <select class="select" id="librarySelect"></select>
              <button class="btn btn-ghost" id="refreshBtn" type="button" title="刷新">刷新</button>
              <span id="indexChips" class="chips"></span>
            </div>
          </div>
        </header>

        <div class="content" id="page"></div>

        <div class="toast" id="toast" role="status" aria-live="polite"></div>
      </main>
    </div>

    <div class="modal-backdrop hidden" id="modalBackdrop" role="presentation">
      <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal-header">
          <div class="modal-title" id="modalTitle">—</div>
          <button class="btn btn-ghost" id="modalClose" type="button" aria-label="关闭">关闭</button>
        </div>
        <div class="modal-body" id="modalBody"></div>
      </div>
    </div>

    <script src="/static/app.js"></script>
  </body>
</html>
